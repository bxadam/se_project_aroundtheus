!function(){"use strict";class e{constructor(e,t,s,n,i){let{name:r,link:o,_id:a,isLiked:l}=e;this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=n,this._handleLikeClick=i,this._name=r,this._link=o,this._id=a,this._isLiked=l,this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}handleLikeClick=()=>{this._likeButton.classList.toggle("card__like-button_active")};delete=()=>{this._cardElement.remove()};getView(){return this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this._cardTitle.textContent=this._name,this._isLiked&&this._likeButton.classList.add("card__like-button_active"),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){let{items:s,renderer:n}=e;this._container=t,this._items=s,this._renderer=n}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose),this._popupElement.addEventListener("click",this._handleOverlayClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleOverlayClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleOverlayClose=e=>{e.target.classList.contains("modal_opened")&&this.close()};setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()}))}}class n extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this.inputList=this._popupForm.querySelectorAll(".modal__input"),this.submitButton=this._popupForm.querySelector(".modal__save-button")}_getInputValues(){const e={};return this.inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()})),super.setEventListeners()}setloading(e,t){this.submitButton.textContent=e?"Saving...":t}}var i=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);this._formElement.classList.remove(this._errorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(){return this._inputElements.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this.enableButton()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputElements=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this.disableButton()})),this._setEventListeners(),this.disableButton()}};const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__input_error",errorClass:"modal__error_visible"},o=document.querySelector("#profile-edit-btn"),a=document.querySelector("#profile-title-input"),l=document.querySelector("#profile-subtext-input"),c=document.querySelector("#profile-modal-form"),d=document.querySelector("#add-button"),h=document.querySelector("#avatar-edit-btn"),u=document.querySelector("#new-card-modal-form"),_=document.querySelector("#avatar-modal-form"),m=document.querySelector(".cards__list"),p=new i(r,c),v=new i(r,u),E=new i(r,_);p.enableValidation(),v.enableValidation(),E.enableValidation();const S=t=>{const s=new e(t,"#card-template",B,w,q).getView();f.addItem(s)},b=new class{constructor(e){this._url=e.baseUrl,this._headers=e.headers,this._avatar=e.avatar}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}async getInitialCards(){const e=await fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:this._headers});return this._checkResponse(e)}async getUserInfo(){const e=await fetch("https://around-api.en.tripleten-services.com/v1/users/me",{headers:this._headers});return this._checkResponse(e)}async setUserInfo(e){const t=await fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify(e)});return this._checkResponse(t)}async setAvatar(e){const t=await fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})});return this._checkResponse(t)}async addCard(e){let{name:t,link:s}=e;const n=await fetch("https://around-api.en.tripleten-services.com/v1/cards/",{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})});return this._checkResponse(n)}async deleteCard(e){const t=await fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}`,{method:"DELETE",headers:this._headers});return this._checkResponse(t)}async likeCard(e,t){const s=t?"DELETE":"PUT",n=await fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:s,headers:this._headers});return this._checkResponse(n)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"03a6e48e-c1e2-40b5-8f26-406bbefbcb53","Content-Type":"application/json"}});let f;b.getInitialCards().then((e=>{f=new t({items:e.reverse(),renderer:S},m),f.renderItems()})),b.getUserInfo().then((e=>{I.setUserInfo(e),I.setAvatar(e.avatar)}));const k=new n("#profile-edit-modal",(function(e){k.setloading(!0,"Saving..."),b.setUserInfo(e).then((e=>{I.setUserInfo(e)})).catch((e=>{console.log(e)})).finally((()=>{k.setloading(!1,"Save")})),I.getUserInfo(e.name,e.about)}));k.setEventListeners();const y=new n("#new-card-modal",(function(e){y.setloading(!0,"Saving..."),b.addCard({name:e.title,link:e.link}).then((e=>{S(e)})).catch((e=>{console.log(e)})).finally((()=>{y.setloading(!1,"Create")})),u.reset()}));y.setEventListeners();const L=new n("#avatar-modal",(function(e){L.setloading(!0,"Saving..."),b.setAvatar(e).then((e=>{I.setAvatar(e.avatar)})).catch((e=>{console.log(e)})).finally((()=>{L.setloading(!1,"Save")})),_.reset(),L.close()}));L.setEventListeners();const g=new class extends s{constructor(e){super({popupSelector:e}),this._form=this._popupElement.querySelector(".modal__form"),this._button=this._form.querySelector(".modal__save-button"),this.submitButton=this._form.querySelector(".modal__save-button")}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}setSubmitHandler(e){this._handleFormSubmit=e}setloading(e,t){this._button.textContent=e?"Saving...":t}}("#confirm-modal");g.setEventListeners();const C=new class extends s{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__image"),this._caption=this._popupElement.querySelector(".modal__description")}open(e){let{link:t,name:s}=e;this._caption.textContent=s,this._image.src=t,this._image.alt=s,super.open()}}("#preview-modal");C.setEventListeners();const I=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:n}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatarElement=document.querySelector(n)}getUserInfo(){return{name:this._nameElement.textContent,about:this._jobElement.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}setAvatar(e){this._avatarElement.src=e}}({nameSelector:".profile__title",jobSelector:".profile__subtext",avatarSelector:".profile__picture"});function B(e){C.open(e)}function q(e){b.likeCard(e._id,e._isLiked).then((()=>{e.handleLikeClick()})).catch((e=>{console.log(e)}))}function w(e){g.open(),g.setSubmitHandler((()=>{b.deleteCard(e._id).then((()=>{e.delete(),g.close()})).catch((e=>{console.log(e)}))}))}o.addEventListener("click",(()=>{const{name:e,about:t}=I.getUserInfo();a.value=e,l.value=t,k.open()})),d.addEventListener("click",(()=>{y.open()})),h.addEventListener("click",(()=>{L.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUIsS0FDNUJsRCxFQUNHMkIsV0FBV2UsRUFBS3JLLEtBQ2hCMEosTUFBSyxLQUNKVyxFQUFLOUksU0FDTGtKLEVBQWF2SCxPQUFPLElBRXJCNEcsT0FBT0MsSUFDTkMsUUFBUUMsSUFBSUYsRUFBSSxHQUNoQixHQUVSLENBcUJBckQsRUFBZXRGLGlCQUFpQixTQUFTLEtBQ3ZDLE1BQU0sS0FBRXRCLEVBQUksTUFBRXFLLEdBQVVQLEVBQVNoQixjQUNqQ2pDLEVBQWtCdkMsTUFBUXRFLEVBQzFCOEcsRUFBb0J4QyxNQUFRK0YsRUFFNUJOLEVBQWE5RyxNQUFNLElBR3JCK0QsRUFBTzFGLGlCQUFpQixTQUFTLEtBQy9CZ0osRUFBVXJILE1BQU0sSUFHbEJnRSxFQUFjM0YsaUJBQWlCLFNBQVMsS0FDdENvSixFQUFZekgsTUFBTSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgeyBuYW1lLCBsaW5rLCBfaWQsIGlzTGlrZWQgfSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKSB7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuX2lkID0gX2lkO1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICApO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUxpa2VDbGljayA9ICgpID0+IHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH07XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICB9O1xuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgLy8gaWYgc3RhdGVtZW50IHRvIGNoZWNrIGlzIGxpa2VkIGFuZCB0aGVuIGFkZCBcImNhcmQgbGlrZSBidXR0b24gYWN0aXZlXCJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UgPSAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuaW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuICAgIHRoaXMuc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldGxvYWRpbmcoaXNMb2FkaW5nLCB0ZXh0KSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuICB9XG59XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cbiAgLy8gZml4IHNob3cvaGlkZSBpbnB1dCBlcnJvciBtZXRob2RzXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dEVsZW1lbnRzLnNvbWUoXG4gICAgICAoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkXG4gICAgKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGVuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gW1xuICAgICAgLi4udGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSxcbiAgICBdO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmUtYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuZXhwb3J0IHsgaW5pdGlhbENhcmRzLCBjb25maWcgfTtcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuLyoqXG4gKiBFbGVtZW50c1xuICovXG5cbmNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnRuXCIpO1xuY29uc3QgcHJvZmlsZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIik7XG5jb25zdCBwcm9maWxlU3VidGV4dElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXN1YnRleHQtaW5wdXRcIik7XG5jb25zdCBwcm9maWxlTW9kYWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW1vZGFsLWZvcm1cIik7XG5cbmNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGF2YXRhckVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1lZGl0LWJ0blwiKTtcblxuY29uc3QgbmV3Q2FyZE1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWNhcmQtbW9kYWwtZm9ybVwiKTtcbmNvbnN0IGF2YXRhck1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLW1vZGFsLWZvcm1cIik7XG5cbmNvbnN0IGNhcmRMaXN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cbi8qKlxuICogVmFyaWFibGVzXG4gKi9cblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHByb2ZpbGVNb2RhbEZvcm0pO1xuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIG5ld0NhcmRNb2RhbEZvcm0pO1xuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgYXZhdGFyTW9kYWxGb3JtKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCByZW5kZXJDYXJkID0gKGNhcmREYXRhKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBjYXJkRGF0YSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdldFZpZXcoKTtcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbn07XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjAzYTZlNDhlLWMxZTItNDBiNS04ZjI2LTQwNmJiZWZiY2I1M1wiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmxldCBzZWN0aW9uO1xuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKGl0ZW1zKSA9PiB7XG4gIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICB7IGl0ZW1zOiBpdGVtcy5yZXZlcnNlKCksIHJlbmRlcmVyOiByZW5kZXJDYXJkIH0sXG4gICAgY2FyZExpc3RFbGVtZW50XG4gICk7XG4gIHNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbn0pO1xuXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKChkYXRhKSA9PiB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YS5hdmF0YXIpO1xufSk7XG5cbmNvbnN0IHByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgaGFuZGxlUHJvZmlsZU1vZGFsU3VibWl0XG4pO1xucHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNhcmRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNuZXctY2FyZC1tb2RhbFwiLFxuICBoYW5kbGVOZXdDYXJkTW9kYWxTdWJtaXRcbik7XG5jYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhdmF0YXItbW9kYWxcIiwgaGFuZGxlQXZhdGFyTW9kYWxTdWJtaXQpO1xuYXZhdGFyTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY29uZmlybU1vZGFsID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNjb25maXJtLW1vZGFsXCIpO1xuY29uZmlybU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGltYWdlTW9kYWwgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcHJldmlldy1tb2RhbFwiKTtcbmltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19zdWJ0ZXh0XCIsXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19waWN0dXJlXCIsXG59KTtcblxuLyoqXG4gKiBFdmVudCBIYW5kbGVyc1xuICovXG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpIHtcbiAgaW1hZ2VNb2RhbC5vcGVuKGNhcmREYXRhKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcbiAgYXBpXG4gICAgLmxpa2VDYXJkKGNhcmQuX2lkLCBjYXJkLl9pc0xpa2VkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuaGFuZGxlTGlrZUNsaWNrKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZU1vZGFsU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIHByb2ZpbGVNb2RhbC5zZXRsb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9maWxlTW9kYWwuc2V0bG9hZGluZyhmYWxzZSwgXCJTYXZlXCIpO1xuICAgIH0pO1xuXG4gIHVzZXJJbmZvLmdldFVzZXJJbmZvKGlucHV0VmFsdWVzLm5hbWUsIGlucHV0VmFsdWVzLmFib3V0KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3Q2FyZE1vZGFsU3VibWl0KGNhcmQpIHtcbiAgY2FyZE1vZGFsLnNldGxvYWRpbmcodHJ1ZSwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC5hZGRDYXJkKHsgbmFtZTogY2FyZC50aXRsZSwgbGluazogY2FyZC5saW5rIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJlbmRlckNhcmQoZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNhcmRNb2RhbC5zZXRsb2FkaW5nKGZhbHNlLCBcIkNyZWF0ZVwiKTtcbiAgICB9KTtcbiAgbmV3Q2FyZE1vZGFsRm9ybS5yZXNldCgpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkKSB7XG4gIGNvbmZpcm1Nb2RhbC5vcGVuKCk7XG4gIGNvbmZpcm1Nb2RhbC5zZXRTdWJtaXRIYW5kbGVyKCgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLmRlbGV0ZSgpO1xuICAgICAgICBjb25maXJtTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJNb2RhbFN1Ym1pdCh1cmwpIHtcbiAgYXZhdGFyTW9kYWwuc2V0bG9hZGluZyh0cnVlLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLnNldEF2YXRhcih1cmwpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihkYXRhLmF2YXRhcik7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGF2YXRhck1vZGFsLnNldGxvYWRpbmcoZmFsc2UsIFwiU2F2ZVwiKTtcbiAgICB9KTtcbiAgYXZhdGFyTW9kYWxGb3JtLnJlc2V0KCk7XG4gIGF2YXRhck1vZGFsLmNsb3NlKCk7XG59XG5cbi8vIEV2ZW50IExpc3RlbmVyc1xuXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIHByb2ZpbGVTdWJ0ZXh0SW5wdXQudmFsdWUgPSBhYm91dDtcblxuICBwcm9maWxlTW9kYWwub3BlbigpO1xufSk7XG5cbmFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjYXJkTW9kYWwub3BlbigpO1xufSk7XG5cbmF2YXRhckVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyTW9kYWwub3BlbigpO1xufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5fdXJsID0gZGF0YS5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBkYXRhLmhlYWRlcnM7XG4gICAgdGhpcy5fYXZhdGFyID0gZGF0YS5hdmF0YXI7XG4gIH1cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgYXN5bmMgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1wiLFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJJbmZvKCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZVwiLFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcbiAgfVxuXG4gIGFzeW5jIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWVcIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcbiAgfVxuICBhc3luYyBzZXRBdmF0YXIodXJsKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lL2F2YXRhclwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IHVybC5saW5rIH0pLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcbiAgfVxuXG4gIGFzeW5jIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICBjb25zdCBhZGRlZENhcmQgPSBhd2FpdCBmZXRjaChcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKGFkZGVkQ2FyZCk7XG4gIH1cblxuICBhc3luYyBkZWxldGVDYXJkKF9pZCkge1xuICAgIGNvbnN0IGRlbGV0ZWRDYXJkID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvJHtfaWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UoZGVsZXRlZENhcmQpO1xuICB9XG5cbiAgYXN5bmMgbGlrZUNhcmQoaWQsIGlzTGlrZWQpIHtcbiAgICBjb25zdCBtZXRob2QgPSBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCI7XG4gICAgY29uc3QgbGlrZUNhcmQgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy8ke2lkfS9saWtlc2AsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UobGlrZUNhcmQpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xuICAgIHRoaXMuc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcbiAgfVxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldFN1Ym1pdEhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVyO1xuICB9XG5cbiAgc2V0bG9hZGluZyhpc0xvYWRpbmcsIHRleHQpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZGVzY3JpcHRpb25cIik7XG4gIH1cblxuICBvcGVuKHsgbGluaywgbmFtZSB9KSB7XG4gICAgdGhpcy5fY2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gIH1cblxuICBzZXRBdmF0YXIodXJsKSB7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSB1cmw7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwibmFtZSIsImxpbmsiLCJfaWQiLCJpc0xpa2VkIiwidGhpcyIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfbmFtZSIsIl9saW5rIiwiX2lzTGlrZWQiLCJfY2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRJbWFnZUVsZW1lbnQiLCJfY2FyZFRpdGxlIiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImRlbGV0ZSIsInJlbW92ZSIsImdldFZpZXciLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImFkZCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfY29udGFpbmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwicmVuZGVySXRlbXMiLCJmb3JFYWNoIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsImlucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdWJtaXRCdXR0b24iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInNldGxvYWRpbmciLCJpc0xvYWRpbmciLCJ0ZXh0Iiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRFbGVtZW50cyIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlQnV0dG9uIiwiZW5hYmxlQnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiZW5hYmxlVmFsaWRhdGlvbiIsImNvbmZpZyIsImZvcm1TZWxlY3RvciIsInByb2ZpbGVFZGl0QnRuIiwicHJvZmlsZVRpdGxlSW5wdXQiLCJwcm9maWxlU3VidGV4dElucHV0IiwicHJvZmlsZU1vZGFsRm9ybSIsImFkZEJ0biIsImF2YXRhckVkaXRCdG4iLCJuZXdDYXJkTW9kYWxGb3JtIiwiYXZhdGFyTW9kYWxGb3JtIiwiY2FyZExpc3RFbGVtZW50IiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwicmVuZGVyQ2FyZCIsImNhcmREYXRhIiwiY2FyZEVsZW1lbnQiLCJzZWN0aW9uIiwiYXBpIiwiZGF0YSIsIl91cmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2F2YXRhciIsImF2YXRhciIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0QXZhdGFyIiwidXJsIiwiYWRkQ2FyZCIsImFkZGVkQ2FyZCIsImRlbGV0ZUNhcmQiLCJkZWxldGVkQ2FyZCIsImxpa2VDYXJkIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJyZXZlcnNlIiwidXNlckluZm8iLCJwcm9maWxlTW9kYWwiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwiYWJvdXQiLCJjYXJkTW9kYWwiLCJjYXJkIiwidGl0bGUiLCJyZXNldCIsImF2YXRhck1vZGFsIiwiY29uZmlybU1vZGFsIiwiX2Zvcm0iLCJfYnV0dG9uIiwiZXZ0Iiwic2V0U3VibWl0SGFuZGxlciIsImhhbmRsZXIiLCJpbWFnZU1vZGFsIiwiX2ltYWdlIiwiX2NhcHRpb24iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsIl9yZWYyIl0sInNvdXJjZVJvb3QiOiIifQ==