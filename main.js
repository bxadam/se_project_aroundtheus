!function(){"use strict";class e{constructor(e,t,s,n,i){let{name:r,link:o,_id:a,isLiked:l}=e;this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=n,this._handleLikeClick=i,this._name=r,this._link=o,this._id=a,this._isLiked=l,this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}handleLikeClick=()=>{this._likeButton.classList.toggle("card__like-button_active")};delete=()=>{this._cardElement.remove()};getView(){return this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this._cardTitle.textContent=this._name,this._isLiked&&this._likeButton.classList.add("card__like-button_active"),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){let{items:s,renderer:n}=e;this._container=t,this._items=s,this._renderer=n}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose),this._popupElement.addEventListener("click",this._handleOverlayClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleOverlayClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleOverlayClose=e=>{e.target.classList.contains("modal_opened")&&this.close()};setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()}))}}class n extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this.inputList=this._popupForm.querySelectorAll(".modal__input"),this.submitButton=this._popupForm.querySelector(".modal__save-button")}_getInputValues(){const e={};return this.inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()})),super.setEventListeners()}setloading(e,t){this.submitButton.textContent=e?"Saving...":t}}var i=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);this._formElement.classList.remove(this._errorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(){return this._inputElements.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this.enableButton()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputElements=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this.disableButton()})),this._setEventListeners(),this.disableButton()}};const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__input_error",errorClass:"modal__error_visible"},o=document.querySelector("#profile-edit-btn"),a=document.querySelector("#profile-title-input"),l=document.querySelector("#profile-subtext-input"),c=document.querySelector("#profile-modal-form"),d=document.querySelector("#add-button"),h=document.querySelector("#avatar-edit-btn"),u=document.querySelector("#new-card-modal-form"),_=document.querySelector("#avatar-modal-form"),m=document.querySelector(".cards__list"),p=new i(r,c),v=new i(r,u);p.enableValidation(),v.enableValidation();const E=t=>{const s=new e(t,"#card-template",I,q,B).getView();b.addItem(s)},S=new class{constructor(e){this._url=e.baseUrl,this._headers=e.headers,this._avatar=e.avatar}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}async getInitialCards(){const e=await fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:this._headers});return this._checkResponse(e)}async getUserInfo(){const e=await fetch("https://around-api.en.tripleten-services.com/v1/users/me",{headers:this._headers});return this._checkResponse(e)}async setUserInfo(e){const t=await fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify(e)});return this._checkResponse(t)}async setAvatar(e){const t=await fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})});return this._checkResponse(t)}async addCard(e){let{name:t,link:s}=e;const n=await fetch("https://around-api.en.tripleten-services.com/v1/cards/",{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})});return this._checkResponse(n)}async deleteCard(e){const t=await fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}`,{method:"DELETE",headers:this._headers});return this._checkResponse(t)}async likeCard(e,t){const s=t?"DELETE":"PUT",n=await fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:s,headers:this._headers});return this._checkResponse(n)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"03a6e48e-c1e2-40b5-8f26-406bbefbcb53","Content-Type":"application/json"}});let b;S.getInitialCards().then((e=>{b=new t({items:e.reverse(),renderer:E},m),b.renderItems()})),S.getUserInfo().then((e=>{C.setUserInfo(e),C.setAvatar(e.avatar)}));const f=new n("#profile-edit-modal",(function(e){f.setloading(!0,"Saving..."),S.setUserInfo(e).then((e=>{C.setUserInfo(e)})).catch((e=>{console.log(e)})).finally((()=>{f.setloading(!1,"Save")})),C.getUserInfo(e.name,e.about)}));f.setEventListeners();const k=new n("#new-card-modal",(function(e){k.setloading(!0,"Saving..."),S.addCard({name:e.title,link:e.link}).then((e=>{let{name:t,link:s}=e;E({name:t,link:s})})).catch((e=>{console.log(e)})).finally((()=>{k.setloading(!1,"Create")})),u.reset()}));k.setEventListeners();const y=new n("#avatar-modal",(function(e){y.setloading(!0,"Saving..."),S.setAvatar(e).then((e=>{C.setAvatar(e.avatar)})).catch((e=>{console.log(e)})).finally((()=>{y.setloading(!1,"Save")})),_.reset(),y.close()}));y.setEventListeners();const L=new class extends s{constructor(e){super({popupSelector:e}),this._form=this._popupElement.querySelector(".modal__form"),this._button=this._form.querySelector(".modal__save-button"),this.submitButton=this._form.querySelector(".modal__save-button")}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}setSubmitHandler(e){this._handleFormSubmit=e}setloading(e,t){this._button.textContent=e?"Saving...":t}}("#confirm-modal");L.setEventListeners();const g=new class extends s{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__image"),this._caption=this._popupElement.querySelector(".modal__description")}open(e){let{link:t,name:s}=e;this._caption.textContent=s,this._image.src=t,this._image.alt=s,super.open()}}("#preview-modal");g.setEventListeners();const C=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:n}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatarElement=document.querySelector(n)}getUserInfo(){return{name:this._nameElement.textContent,about:this._jobElement.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}setAvatar(e){this._avatarElement.src=e}}({nameSelector:".profile__title",jobSelector:".profile__subtext",avatarSelector:".profile__picture"});function I(e){g.open(e)}function B(e){S.likeCard(e._id,e._isLiked).then((()=>{e.handleLikeClick()})).catch((e=>{console.log(e)}))}function q(e){L.open(),L.setSubmitHandler((()=>{S.deleteCard(e._id).then((()=>{e.delete(),L.close()})).catch((e=>{console.log(e)}))}))}o.addEventListener("click",(()=>{const{name:e,about:t}=C.getUserInfo();a.value=e,l.value=t,f.open()})),d.addEventListener("click",(()=>{k.open()})),h.addEventListener("click",(()=>{y.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQVdDLEVBRVRDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBQ0EsSUFMQSxLQUFFQyxFQUFJLEtBQUVDLEVBQUksSUFBRUMsRUFBRyxRQUFFQyxHQUFTUixFQU01QlMsS0FBS0MsY0FBZ0JULEVBQ3JCUSxLQUFLRSxrQkFBb0JULEVBQ3pCTyxLQUFLRyxtQkFBcUJULEVBQzFCTSxLQUFLSSxpQkFBbUJULEVBQ3hCSyxLQUFLSyxNQUFRVCxFQUNiSSxLQUFLTSxNQUFRVCxFQUNiRyxLQUFLRixJQUFNQSxFQUNYRSxLQUFLTyxTQUFXUixFQUNoQkMsS0FBS1EsYUFBZUMsU0FDakJDLGNBQWNWLEtBQUtDLGVBQ25CVSxRQUFRRCxjQUFjLFNBQ3RCRSxXQUFVLEdBQ2JaLEtBQUthLGtCQUFvQmIsS0FBS1EsYUFBYUUsY0FBYyxnQkFDekRWLEtBQUtjLFdBQWFkLEtBQUtRLGFBQWFFLGNBQWMsZ0JBQ2xEVixLQUFLZSxZQUFjZixLQUFLUSxhQUFhRSxjQUFjLHNCQUNuRFYsS0FBS2dCLGNBQWdCaEIsS0FBS1EsYUFBYUUsY0FDckMsdUJBRUosQ0FFQU8sa0JBQUFBLEdBQ0VqQixLQUFLZSxZQUFZRyxpQkFBaUIsU0FBUyxLQUN6Q2xCLEtBQUtJLGlCQUFpQkosS0FBSyxJQUc3QkEsS0FBS2dCLGNBQWNFLGlCQUFpQixTQUFTLEtBQzNDbEIsS0FBS0csbUJBQW1CSCxLQUFLLElBRy9CQSxLQUFLYSxrQkFBa0JLLGlCQUFpQixTQUFTLEtBQy9DbEIsS0FBS0Usa0JBQWtCLENBQUVOLEtBQU1JLEtBQUtLLE1BQU9SLEtBQU1HLEtBQUtNLE9BQVEsR0FFbEUsQ0FFQVgsZ0JBQWtCQSxLQUNoQkssS0FBS2UsWUFBWUksVUFBVUMsT0FBTywyQkFBMkIsRUFHL0RDLE9BQVNBLEtBQ1ByQixLQUFLUSxhQUFhYyxRQUFRLEVBRzVCQyxPQUFBQSxHQVlFLE9BWEF2QixLQUFLYSxrQkFBa0JXLElBQU14QixLQUFLTSxNQUNsQ04sS0FBS2Esa0JBQWtCWSxJQUFNekIsS0FBS0ssTUFDbENMLEtBQUtjLFdBQVdZLFlBQWMxQixLQUFLSyxNQUcvQkwsS0FBS08sVUFDUFAsS0FBS2UsWUFBWUksVUFBVVEsSUFBSSw0QkFHakMzQixLQUFLaUIscUJBRUVqQixLQUFLUSxZQUNkLEVDL0RhLE1BQU1vQixFQUNuQnRDLFdBQUFBLENBQVdDLEVBQXNCc0MsR0FBbUIsSUFBeEMsTUFBRUMsRUFBSyxTQUFFQyxHQUFVeEMsRUFDN0JTLEtBQUtnQyxXQUFhSCxFQUNsQjdCLEtBQUtpQyxPQUFTSCxFQUNkOUIsS0FBS2tDLFVBQVlILENBQ25CLENBRUFJLFdBQUFBLEdBQ0VuQyxLQUFLaUMsT0FBT0csU0FBU0MsSUFDbkJyQyxLQUFLa0MsVUFBVUcsRUFBSyxHQUV4QixDQUVBQyxPQUFBQSxDQUFRQyxHQUNOdkMsS0FBS2dDLFdBQVdRLFFBQVFELEVBQzFCLEVDZmEsTUFBTUUsRUFDbkJuRCxXQUFBQSxDQUFXQyxHQUFvQixJQUFuQixjQUFFbUQsR0FBZW5ELEVBQzNCUyxLQUFLMkMsY0FBZ0JsQyxTQUFTQyxjQUFjZ0MsR0FDNUMxQyxLQUFLNEMsYUFBZTVDLEtBQUsyQyxjQUFjakMsY0FBYyxnQkFDdkQsQ0FDQW1DLElBQUFBLEdBQ0U3QyxLQUFLMkMsY0FBY3hCLFVBQVVRLElBQUksZ0JBQ2pDbEIsU0FBU1MsaUJBQWlCLFFBQVNsQixLQUFLOEMsaUJBQ3hDOUMsS0FBSzJDLGNBQWN6QixpQkFBaUIsUUFBU2xCLEtBQUsrQyxvQkFDcEQsQ0FFQUMsS0FBQUEsR0FDRWhELEtBQUsyQyxjQUFjeEIsVUFBVUcsT0FBTyxnQkFDcENiLFNBQVN3QyxvQkFBb0IsUUFBU2pELEtBQUs4QyxpQkFDM0M5QyxLQUFLMkMsY0FBY00sb0JBQW9CLFFBQVNqRCxLQUFLK0Msb0JBQ3ZELENBRUFELGdCQUFtQkksSUFDSCxXQUFWQSxFQUFFQyxLQUNKbkQsS0FBS2dELE9BQ1AsRUFHRkQsb0JBQXVCRyxJQUNqQkEsRUFBRUUsT0FBT2pDLFVBQVVrQyxTQUFTLGlCQUM5QnJELEtBQUtnRCxPQUNQLEVBR0ZNLGlCQUFBQSxHQUNFdEQsS0FBSzRDLGFBQWExQixpQkFBaUIsU0FBUyxLQUMxQ2xCLEtBQUtnRCxPQUFPLEdBRWhCLEVDaENhLE1BQU1PLFVBQXNCZCxFQUN6Q25ELFdBQUFBLENBQVlvRCxFQUFlYyxHQUN6QkMsTUFBTSxDQUFFZixrQkFDUjFDLEtBQUswRCxXQUFhMUQsS0FBSzJDLGNBQWNqQyxjQUFjLGdCQUNuRFYsS0FBSzJELGtCQUFvQkgsRUFDekJ4RCxLQUFLNEQsVUFBWTVELEtBQUswRCxXQUFXRyxpQkFBaUIsaUJBQ2xEN0QsS0FBSzhELGFBQWU5RCxLQUFLMEQsV0FBV2hELGNBQWMsc0JBQ3BELENBRUFxRCxlQUFBQSxHQUNFLE1BQU1DLEVBQWMsQ0FBQyxFQUlyQixPQUhBaEUsS0FBSzRELFVBQVV4QixTQUFTNkIsSUFDdEJELEVBQVlDLEVBQU1yRSxNQUFRcUUsRUFBTUMsS0FBSyxJQUVoQ0YsQ0FDVCxDQUVBVixpQkFBQUEsR0FDRXRELEtBQUswRCxXQUFXeEMsaUJBQWlCLFVBQVdnQyxJQUMxQ0EsRUFBRWlCLGlCQUNGbkUsS0FBSzJELGtCQUFrQjNELEtBQUsrRCxtQkFDNUIvRCxLQUFLZ0QsT0FBTyxJQUVkUyxNQUFNSCxtQkFDUixDQUVBYyxVQUFBQSxDQUFXQyxFQUFXQyxHQUVsQnRFLEtBQUs4RCxhQUFhcEMsWUFEaEIyQyxFQUM4QixZQUVBQyxDQUVwQyxFQ3FERixNQXRGQSxNQUNFaEYsV0FBQUEsQ0FBWWlGLEVBQVVDLEdBQ3BCeEUsS0FBS3lFLGVBQWlCRixFQUFTRyxjQUMvQjFFLEtBQUsyRSxzQkFBd0JKLEVBQVNLLHFCQUN0QzVFLEtBQUs2RSxxQkFBdUJOLEVBQVNPLG9CQUNyQzlFLEtBQUsrRSxpQkFBbUJSLEVBQVNTLGdCQUNqQ2hGLEtBQUtpRixZQUFjVixFQUFTVyxXQUU1QmxGLEtBQUttRixhQUFlWCxDQUN0QixDQUVBWSxtQkFBQUEsQ0FBb0JDLEdBQ2JBLEVBQWFDLFNBQVNDLE1BR3pCdkYsS0FBS3dGLGdCQUFnQkgsR0FGckJyRixLQUFLeUYsZ0JBQWdCSixFQUl6QixDQUVBSSxlQUFBQSxDQUFnQkosR0FDZCxNQUFNSyxFQUFlMUYsS0FBS21GLGFBQWF6RSxjQUNyQyxJQUFJMkUsRUFBYU0sWUFFbkJOLEVBQWFsRSxVQUFVUSxJQUFJM0IsS0FBSytFLGtCQUNoQ1csRUFBYWhFLFlBQWMyRCxFQUFhTyxrQkFDeENGLEVBQWF2RSxVQUFVUSxJQUFJM0IsS0FBS2lGLFlBQ2xDLENBRUFPLGVBQUFBLENBQWdCSCxHQUNkLE1BQU1LLEVBQWUxRixLQUFLbUYsYUFBYXpFLGNBQ3JDLElBQUkyRSxFQUFhTSxZQUVuQjNGLEtBQUttRixhQUFhaEUsVUFBVUcsT0FBT3RCLEtBQUtpRixhQUN4Q1MsRUFBYWhFLFlBQWMsR0FDM0JnRSxFQUFhdkUsVUFBVUcsT0FBT3RCLEtBQUtpRixZQUNyQyxDQUVBWSxnQkFBQUEsR0FDRSxPQUFPN0YsS0FBSzhGLGVBQWVDLE1BQ3hCVixJQUFrQkEsRUFBYUMsU0FBU0MsT0FFN0MsQ0FFQVMsa0JBQUFBLEdBQ01oRyxLQUFLNkYsbUJBQ1A3RixLQUFLaUcsZ0JBRUxqRyxLQUFLa0csY0FFVCxDQUVBRCxhQUFBQSxHQUNFakcsS0FBS21HLGNBQWNoRixVQUFVUSxJQUFJM0IsS0FBSzZFLHNCQUN0QzdFLEtBQUttRyxjQUFjQyxVQUFXLENBQ2hDLENBRUFGLFlBQUFBLEdBQ0VsRyxLQUFLbUcsY0FBY2hGLFVBQVVHLE9BQU90QixLQUFLNkUsc0JBQ3pDN0UsS0FBS21HLGNBQWNDLFVBQVcsQ0FDaEMsQ0FFQW5GLGtCQUFBQSxHQUNFakIsS0FBSzhGLGVBQWlCLElBQ2pCOUYsS0FBS21GLGFBQWF0QixpQkFBaUI3RCxLQUFLeUUsaUJBRTdDekUsS0FBS21HLGNBQWdCbkcsS0FBS21GLGFBQWF6RSxjQUNyQ1YsS0FBSzJFLHVCQUVQM0UsS0FBSzhGLGVBQWUxRCxTQUFTaUQsSUFDM0JBLEVBQWFuRSxpQkFBaUIsU0FBUyxLQUNyQ2xCLEtBQUtvRixvQkFBb0JDLEdBQ3pCckYsS0FBS2dHLG9CQUFvQixHQUN6QixHQUVOLENBRUFLLGdCQUFBQSxHQUNFckcsS0FBS21GLGFBQWFqRSxpQkFBaUIsVUFBV2dDLElBQzVDQSxFQUFFaUIsaUJBQ0ZuRSxLQUFLaUcsZUFBZSxJQUV0QmpHLEtBQUtpQixxQkFDTGpCLEtBQUtpRyxlQUNQLEdDbkZGLE1BMkJNSyxFQUFTLENBQ2JDLGFBQWMsZUFDZDdCLGNBQWUsZ0JBQ2ZFLHFCQUFzQixzQkFDdEJFLG9CQUFxQiw4QkFDckJFLGdCQUFpQixxQkFDakJFLFdBQVksd0JDbkJSc0IsRUFBaUIvRixTQUFTQyxjQUFjLHFCQUN4QytGLEVBQW9CaEcsU0FBU0MsY0FBYyx3QkFDM0NnRyxFQUFzQmpHLFNBQVNDLGNBQWMsMEJBQzdDaUcsRUFBbUJsRyxTQUFTQyxjQUFjLHVCQUUxQ2tHLEVBQVNuRyxTQUFTQyxjQUFjLGVBQ2hDbUcsRUFBZ0JwRyxTQUFTQyxjQUFjLG9CQUV2Q29HLEVBQW1CckcsU0FBU0MsY0FBYyx3QkFDMUNxRyxFQUFrQnRHLFNBQVNDLGNBQWMsc0JBRXpDc0csRUFBa0J2RyxTQUFTQyxjQUFjLGdCQU16Q3VHLEVBQW9CLElBQUlDLEVBQWNaLEVBQVFLLEdBQzlDUSxFQUFvQixJQUFJRCxFQUFjWixFQUFRUSxHQUNwREcsRUFBa0JaLG1CQUNsQmMsRUFBa0JkLG1CQUVsQixNQUFNZSxFQUFjQyxJQUNsQixNQU9NQyxFQVBPLElBQUlqSSxFQUNmZ0ksRUFDQSxpQkFDQTVILEVBQ0FDLEVBQ0FDLEdBRXVCNEIsVUFDekJnRyxFQUFRakYsUUFBUWdGLEVBQVksRUFHeEJFLEVBQU0sSUNoREcsTUFDYmxJLFdBQUFBLENBQVltSSxHQUNWekgsS0FBSzBILEtBQU9ELEVBQUtFLFFBQ2pCM0gsS0FBSzRILFNBQVdILEVBQUtJLFFBQ3JCN0gsS0FBSzhILFFBQVVMLEVBQUtNLE1BQ3RCLENBQ0FDLGNBQUFBLENBQWVDLEdBQ2IsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FHTkMsUUFBUUMsT0FBTyxVQUFVSixFQUFJSyxTQUN0QyxDQUVBLHFCQUFNQyxHQUNKLE1BQU1OLFFBQVlPLE1BQ2hCLHdEQUNBLENBQ0VYLFFBQVM3SCxLQUFLNEgsV0FHbEIsT0FBTzVILEtBQUtnSSxlQUFlQyxFQUM3QixDQUVBLGlCQUFNUSxHQUNKLE1BQU1SLFFBQVlPLE1BQ2hCLDJEQUNBLENBQ0VYLFFBQVM3SCxLQUFLNEgsV0FHbEIsT0FBTzVILEtBQUtnSSxlQUFlQyxFQUM3QixDQUVBLGlCQUFNUyxDQUFZakIsR0FDaEIsTUFBTVEsUUFBWU8sTUFDaEIsMkRBQ0EsQ0FDRUcsT0FBUSxRQUNSZCxRQUFTN0gsS0FBSzRILFNBQ2RnQixLQUFNQyxLQUFLQyxVQUFVckIsS0FHekIsT0FBT3pILEtBQUtnSSxlQUFlQyxFQUM3QixDQUNBLGVBQU1jLENBQVVDLEdBQ2QsTUFBTWYsUUFBWU8sTUFDaEIsa0VBQ0EsQ0FDRUcsT0FBUSxRQUNSZCxRQUFTN0gsS0FBSzRILFNBQ2RnQixLQUFNQyxLQUFLQyxVQUFVLENBQUVmLE9BQVFpQixFQUFJbkosU0FHdkMsT0FBT0csS0FBS2dJLGVBQWVDLEVBQzdCLENBRUEsYUFBTWdCLENBQU8xSixHQUFpQixJQUFoQixLQUFFSyxFQUFJLEtBQUVDLEdBQU1OLEVBQzFCLE1BQU0ySixRQUFrQlYsTUFDdEIseURBQ0EsQ0FDRUcsT0FBUSxPQUNSZCxRQUFTN0gsS0FBSzRILFNBQ2RnQixLQUFNQyxLQUFLQyxVQUFVLENBQUVsSixPQUFNQyxXQUdqQyxPQUFPRyxLQUFLZ0ksZUFBZWtCLEVBQzdCLENBRUEsZ0JBQU1DLENBQVdySixHQUNmLE1BQU1zSixRQUFvQlosTUFDeEIseURBQXlEMUksSUFDekQsQ0FDRTZJLE9BQVEsU0FDUmQsUUFBUzdILEtBQUs0SCxXQUdsQixPQUFPNUgsS0FBS2dJLGVBQWVvQixFQUM3QixDQUVBLGNBQU1DLENBQVMxRCxFQUFJNUYsR0FDakIsTUFBTTRJLEVBQVM1SSxFQUFVLFNBQVcsTUFDOUJzSixRQUFpQmIsTUFDckIseURBQXlEN0MsVUFDekQsQ0FDRWdELE9BQVFBLEVBQ1JkLFFBQVM3SCxLQUFLNEgsV0FHbEIsT0FBTzVILEtBQUtnSSxlQUFlcUIsRUFDN0IsR0QxQ2tCLENBQ2xCMUIsUUFBUyxrREFDVEUsUUFBUyxDQUNQeUIsY0FBZSx1Q0FDZixlQUFnQixzQkFJcEIsSUFBSS9CLEVBQ0pDLEVBQUllLGtCQUFrQmdCLE1BQU16SCxJQUMxQnlGLEVBQVUsSUFBSTNGLEVBQ1osQ0FBRUUsTUFBT0EsRUFBTTBILFVBQVd6SCxTQUFVcUYsR0FDcENKLEdBRUZPLEVBQVFwRixhQUFhLElBR3ZCcUYsRUFBSWlCLGNBQWNjLE1BQU05QixJQUN0QmdDLEVBQVNmLFlBQVlqQixHQUNyQmdDLEVBQVNWLFVBQVV0QixFQUFLTSxPQUFPLElBR2pDLE1BQU0yQixFQUFlLElBQUluRyxFQUN2Qix1QkE2Q0YsU0FBa0NTLEdBQ2hDMEYsRUFBYXRGLFlBQVcsRUFBTSxhQUM5Qm9ELEVBQ0drQixZQUFZMUUsR0FDWnVGLE1BQU05QixJQUNMZ0MsRUFBU2YsWUFBWWpCLEVBQUssSUFFM0JrQyxPQUFPQyxJQUNOQyxRQUFRQyxJQUFJRixFQUFJLElBRWpCRyxTQUFRLEtBQ1BMLEVBQWF0RixZQUFXLEVBQU8sT0FBTyxJQUcxQ3FGLEVBQVNoQixZQUFZekUsRUFBWXBFLEtBQU1vRSxFQUFZZ0csTUFDckQsSUF6REFOLEVBQWFwRyxvQkFFYixNQUFNMkcsRUFBWSxJQUFJMUcsRUFDcEIsbUJBd0RGLFNBQWtDMkcsR0FDaENELEVBQVU3RixZQUFXLEVBQU0sYUFDM0JvRCxFQUNHeUIsUUFBUSxDQUFFckosS0FBTXNLLEVBQUtDLE1BQU90SyxLQUFNcUssRUFBS3JLLE9BQ3ZDMEosTUFBS2hLLElBQW9CLElBQW5CLEtBQUVLLEVBQUksS0FBRUMsR0FBTU4sRUFDbkI2SCxFQUFXLENBQ1R4SCxPQUNBQyxRQUNBLElBRUg4SixPQUFPQyxJQUNOQyxRQUFRQyxJQUFJRixFQUFJLElBRWpCRyxTQUFRLEtBQ1BFLEVBQVU3RixZQUFXLEVBQU8sU0FBUyxJQUV6QzBDLEVBQWlCc0QsT0FDbkIsSUF0RUFILEVBQVUzRyxvQkFFVixNQUFNK0csRUFBYyxJQUFJOUcsRUFBYyxpQkFxRnRDLFNBQWlDeUYsR0FDL0JxQixFQUFZakcsWUFBVyxFQUFNLGFBQzdCb0QsRUFDR3VCLFVBQVVDLEdBQ1ZPLE1BQU05QixJQUNMZ0MsRUFBU1YsVUFBVXRCLEVBQUtNLE9BQU8sSUFFaEM0QixPQUFPQyxJQUNOQyxRQUFRQyxJQUFJRixFQUFJLElBRWpCRyxTQUFRLEtBQ1BNLEVBQVlqRyxZQUFXLEVBQU8sT0FBTyxJQUV6QzJDLEVBQWdCcUQsUUFDaEJDLEVBQVlySCxPQUNkLElBbkdBcUgsRUFBWS9HLG9CQUVaLE1BQU1nSCxFQUFlLElFbkZOLGNBQW9DN0gsRUFDakRuRCxXQUFBQSxDQUFZb0QsR0FDVmUsTUFBTSxDQUFFZixrQkFDUjFDLEtBQUt1SyxNQUFRdkssS0FBSzJDLGNBQWNqQyxjQUFjLGdCQUM5Q1YsS0FBS3dLLFFBQVV4SyxLQUFLdUssTUFBTTdKLGNBQWMsdUJBQ3hDVixLQUFLOEQsYUFBZTlELEtBQUt1SyxNQUFNN0osY0FBYyxzQkFDL0MsQ0FDQTRDLGlCQUFBQSxHQUNFRyxNQUFNSCxvQkFDTnRELEtBQUt1SyxNQUFNckosaUJBQWlCLFVBQVd1SixJQUNyQ0EsRUFBSXRHLGlCQUNKbkUsS0FBSzJELG1CQUFtQixHQUU1QixDQUVBK0csZ0JBQUFBLENBQWlCQyxHQUNmM0ssS0FBSzJELGtCQUFvQmdILENBQzNCLENBRUF2RyxVQUFBQSxDQUFXQyxFQUFXQyxHQUVsQnRFLEtBQUt3SyxRQUFROUksWUFEWDJDLEVBQ3lCLFlBRUFDLENBRS9CLEdGMEQ2QyxrQkFDL0NnRyxFQUFhaEgsb0JBRWIsTUFBTXNILEVBQWEsSUd0RkosY0FBNkJuSSxFQUMxQ25ELFdBQUFBLENBQVlvRCxHQUNWZSxNQUFNLENBQUVmLGtCQUNSMUMsS0FBSzZLLE9BQVM3SyxLQUFLMkMsY0FBY2pDLGNBQWMsaUJBQy9DVixLQUFLOEssU0FBVzlLLEtBQUsyQyxjQUFjakMsY0FBYyxzQkFDbkQsQ0FFQW1DLElBQUFBLENBQUl0RCxHQUFpQixJQUFoQixLQUFFTSxFQUFJLEtBQUVELEdBQU1MLEVBQ2pCUyxLQUFLOEssU0FBU3BKLFlBQWM5QixFQUM1QkksS0FBSzZLLE9BQU9ySixJQUFNM0IsRUFDbEJHLEtBQUs2SyxPQUFPcEosSUFBTTdCLEVBQ2xCNkQsTUFBTVosTUFDUixHSDBFb0Msa0JBQ3RDK0gsRUFBV3RILG9CQUVYLE1BQU1tRyxFQUFXLElJM0ZGLE1BQ2JuSyxXQUFBQSxDQUFXQyxHQUFnRCxJQUEvQyxhQUFFd0wsRUFBWSxZQUFFQyxFQUFXLGVBQUVDLEdBQWdCMUwsRUFDdkRTLEtBQUtrTCxhQUFlekssU0FBU0MsY0FBY3FLLEdBQzNDL0ssS0FBS21MLFlBQWMxSyxTQUFTQyxjQUFjc0ssR0FDMUNoTCxLQUFLb0wsZUFBaUIzSyxTQUFTQyxjQUFjdUssRUFDL0MsQ0FFQXhDLFdBQUFBLEdBQ0UsTUFBTyxDQUNMN0ksS0FBTUksS0FBS2tMLGFBQWF4SixZQUN4QnNJLE1BQU9oSyxLQUFLbUwsWUFBWXpKLFlBRTVCLENBRUFnSCxXQUFBQSxDQUFXMkMsR0FBa0IsSUFBakIsS0FBRXpMLEVBQUksTUFBRW9LLEdBQU9xQixFQUN6QnJMLEtBQUtrTCxhQUFheEosWUFBYzlCLEVBQ2hDSSxLQUFLbUwsWUFBWXpKLFlBQWNzSSxDQUNqQyxDQUVBakIsU0FBQUEsQ0FBVUMsR0FDUmhKLEtBQUtvTCxlQUFlNUosSUFBTXdILENBQzVCLEdKc0U0QixDQUM1QitCLGFBQWMsa0JBQ2RDLFlBQWEsb0JBQ2JDLGVBQWdCLHNCQU9sQixTQUFTeEwsRUFBaUI0SCxHQUN4QnVELEVBQVcvSCxLQUFLd0UsRUFDbEIsQ0FFQSxTQUFTMUgsRUFBZ0J1SyxHQUN2QjFDLEVBQ0c2QixTQUFTYSxFQUFLcEssSUFBS29LLEVBQUszSixVQUN4QmdKLE1BQUssS0FDSlcsRUFBS3ZLLGlCQUFpQixJQUV2QmdLLE9BQU9DLElBQ05DLFFBQVFDLElBQUlGLEVBQUksR0FFdEIsQ0FzQ0EsU0FBU2xLLEVBQWtCd0ssR0FDekJJLEVBQWF6SCxPQUNieUgsRUFBYUksa0JBQWlCLEtBQzVCbEQsRUFDRzJCLFdBQVdlLEVBQUtwSyxLQUNoQnlKLE1BQUssS0FDSlcsRUFBSzdJLFNBQ0xpSixFQUFhdEgsT0FBTyxJQUVyQjJHLE9BQU9DLElBQ05DLFFBQVFDLElBQUlGLEVBQUksR0FDaEIsR0FFUixDQXFCQXBELEVBQWV0RixpQkFBaUIsU0FBUyxLQUN2QyxNQUFNLEtBQUV0QixFQUFJLE1BQUVvSyxHQUFVUCxFQUFTaEIsY0FDakNoQyxFQUFrQnZDLE1BQVF0RSxFQUMxQjhHLEVBQW9CeEMsTUFBUThGLEVBRTVCTixFQUFhN0csTUFBTSxJQUdyQitELEVBQU8xRixpQkFBaUIsU0FBUyxLQUMvQitJLEVBQVVwSCxNQUFNLElBR2xCZ0UsRUFBYzNGLGlCQUFpQixTQUFTLEtBQ3RDbUosRUFBWXhILE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgX2lkLCBpc0xpa2VkIH0sXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICkge1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXG4gICAgKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVMaWtlQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9O1xuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfTtcblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIC8vIGlmIHN0YXRlbWVudCB0byBjaGVjayBpcyBsaWtlZCBhbmQgdGhlbiBhZGQgXCJjYXJkIGxpa2UgYnV0dG9uIGFjdGl2ZVwiXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBfaGFuZGxlT3ZlcmxheUNsb3NlID0gKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLmlucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBzZXRsb2FkaW5nKGlzTG9hZGluZywgdGV4dCkge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgfVxufVxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG4gIC8vIGZpeCBzaG93L2hpZGUgaW5wdXQgZXJyb3IgbWV0aG9kc1xuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50cy5zb21lKFxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxuICAgICk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBlbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IFtcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvciksXG4gICAgXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcbiAgfSxcbl07XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlLWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmV4cG9ydCB7IGluaXRpYWxDYXJkcywgY29uZmlnIH07XG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbi8qKlxuICogRWxlbWVudHNcbiAqL1xuXG5jb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ0blwiKTtcbmNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xuY29uc3QgcHJvZmlsZVN1YnRleHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1zdWJ0ZXh0LWlucHV0XCIpO1xuY29uc3QgcHJvZmlsZU1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1tb2RhbC1mb3JtXCIpO1xuXG5jb25zdCBhZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1idXR0b25cIik7XG5jb25zdCBhdmF0YXJFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItZWRpdC1idG5cIik7XG5cbmNvbnN0IG5ld0NhcmRNb2RhbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1jYXJkLW1vZGFsLWZvcm1cIik7XG5jb25zdCBhdmF0YXJNb2RhbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbC1mb3JtXCIpO1xuXG5jb25zdCBjYXJkTGlzdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuXG4vKipcbiAqIFZhcmlhYmxlc1xuICovXG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlTW9kYWxGb3JtKTtcbmNvbnN0IGNhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBuZXdDYXJkTW9kYWxGb3JtKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcmVuZGVyQ2FyZCA9IChjYXJkRGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgY2FyZERhdGEsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZXRWaWV3KCk7XG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG59O1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCIwM2E2ZTQ4ZS1jMWUyLTQwYjUtOGYyNi00MDZiYmVmYmNiNTNcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5sZXQgc2VjdGlvbjtcbmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChpdGVtcykgPT4ge1xuICBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAgeyBpdGVtczogaXRlbXMucmV2ZXJzZSgpLCByZW5kZXJlcjogcmVuZGVyQ2FyZCB9LFxuICAgIGNhcmRMaXN0RWxlbWVudFxuICApO1xuICBzZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG59KTtcblxuYXBpLmdldFVzZXJJbmZvKCkudGhlbigoZGF0YSkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgdXNlckluZm8uc2V0QXZhdGFyKGRhdGEuYXZhdGFyKTtcbn0pO1xuXG5jb25zdCBwcm9maWxlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVNb2RhbFN1Ym1pdFxuKTtcbnByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjbmV3LWNhcmQtbW9kYWxcIixcbiAgaGFuZGxlTmV3Q2FyZE1vZGFsU3VibWl0XG4pO1xuY2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYXZhdGFyLW1vZGFsXCIsIGhhbmRsZUF2YXRhck1vZGFsU3VibWl0KTtcbmF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNvbmZpcm1Nb2RhbCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXCIjY29uZmlybS1tb2RhbFwiKTtcbmNvbmZpcm1Nb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBpbWFnZU1vZGFsID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3ByZXZpZXctbW9kYWxcIik7XG5pbWFnZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fc3VidGV4dFwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fcGljdHVyZVwiLFxufSk7XG5cbi8qKlxuICogRXZlbnQgSGFuZGxlcnNcbiAqL1xuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XG4gIGltYWdlTW9kYWwub3BlbihjYXJkRGF0YSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XG4gIGFwaVxuICAgIC5saWtlQ2FyZChjYXJkLl9pZCwgY2FyZC5faXNMaWtlZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkLmhhbmRsZUxpa2VDbGljaygpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVNb2RhbFN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBwcm9maWxlTW9kYWwuc2V0bG9hZGluZyh0cnVlLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLnNldFVzZXJJbmZvKGlucHV0VmFsdWVzKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcHJvZmlsZU1vZGFsLnNldGxvYWRpbmcoZmFsc2UsIFwiU2F2ZVwiKTtcbiAgICB9KTtcblxuICB1c2VySW5mby5nZXRVc2VySW5mbyhpbnB1dFZhbHVlcy5uYW1lLCBpbnB1dFZhbHVlcy5hYm91dCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU5ld0NhcmRNb2RhbFN1Ym1pdChjYXJkKSB7XG4gIGNhcmRNb2RhbC5zZXRsb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuYWRkQ2FyZCh7IG5hbWU6IGNhcmQudGl0bGUsIGxpbms6IGNhcmQubGluayB9KVxuICAgIC50aGVuKCh7IG5hbWUsIGxpbmsgfSkgPT4ge1xuICAgICAgcmVuZGVyQ2FyZCh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgY2FyZE1vZGFsLnNldGxvYWRpbmcoZmFsc2UsIFwiQ3JlYXRlXCIpO1xuICAgIH0pO1xuICBuZXdDYXJkTW9kYWxGb3JtLnJlc2V0KCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgY29uZmlybU1vZGFsLm9wZW4oKTtcbiAgY29uZmlybU1vZGFsLnNldFN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuZGVsZXRlKCk7XG4gICAgICAgIGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhck1vZGFsU3VibWl0KHVybCkge1xuICBhdmF0YXJNb2RhbC5zZXRsb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuc2V0QXZhdGFyKHVybClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0QXZhdGFyKGRhdGEuYXZhdGFyKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYXZhdGFyTW9kYWwuc2V0bG9hZGluZyhmYWxzZSwgXCJTYXZlXCIpO1xuICAgIH0pO1xuICBhdmF0YXJNb2RhbEZvcm0ucmVzZXQoKTtcbiAgYXZhdGFyTW9kYWwuY2xvc2UoKTtcbn1cblxuLy8gRXZlbnQgTGlzdGVuZXJzXG5cbnByb2ZpbGVFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHsgbmFtZSwgYWJvdXQgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gbmFtZTtcbiAgcHJvZmlsZVN1YnRleHRJbnB1dC52YWx1ZSA9IGFib3V0O1xuXG4gIHByb2ZpbGVNb2RhbC5vcGVuKCk7XG59KTtcblxuYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNhcmRNb2RhbC5vcGVuKCk7XG59KTtcblxuYXZhdGFyRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhdmF0YXJNb2RhbC5vcGVuKCk7XG59KTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLl91cmwgPSBkYXRhLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGRhdGEuaGVhZGVycztcbiAgICB0aGlzLl9hdmF0YXIgPSBkYXRhLmF2YXRhcjtcbiAgfVxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBhc3luYyBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzXCIsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xuICB9XG5cbiAgYXN5bmMgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZVwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xuICB9XG4gIGFzeW5jIHNldEF2YXRhcih1cmwpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWUvYXZhdGFyXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogdXJsLmxpbmsgfSksXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xuICB9XG5cbiAgYXN5bmMgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIGNvbnN0IGFkZGVkQ2FyZCA9IGF3YWl0IGZldGNoKFxuICAgICAgXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy9cIixcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UoYWRkZWRDYXJkKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUNhcmQoX2lkKSB7XG4gICAgY29uc3QgZGVsZXRlZENhcmQgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy8ke19pZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShkZWxldGVkQ2FyZCk7XG4gIH1cblxuICBhc3luYyBsaWtlQ2FyZChpZCwgaXNMaWtlZCkge1xuICAgIGNvbnN0IG1ldGhvZCA9IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIjtcbiAgICBjb25zdCBsaWtlQ2FyZCA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7aWR9L2xpa2VzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShsaWtlQ2FyZCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idXR0b25cIik7XG4gICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0U3VibWl0SGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZXI7XG4gIH1cblxuICBzZXRsb2FkaW5nKGlzTG9hZGluZywgdGV4dCkge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19kZXNjcmlwdGlvblwiKTtcbiAgfVxuXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxuXG4gIHNldEF2YXRhcih1cmwpIHtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IHVybDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJ0aGlzIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfaXNMaWtlZCIsIl9jYXJkRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZEltYWdlRWxlbWVudCIsIl9jYXJkVGl0bGUiLCJfbGlrZUJ1dHRvbiIsIl9kZWxldGVCdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZGVsZXRlIiwicmVtb3ZlIiwiZ2V0VmlldyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiYWRkIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZSIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsInN1Ym1pdEJ1dHRvbiIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0Iiwic2V0bG9hZGluZyIsImlzTG9hZGluZyIsInRleHQiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVsZW1lbnRzIiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJlbmFibGVWYWxpZGF0aW9uIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdG4iLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVTdWJ0ZXh0SW5wdXQiLCJwcm9maWxlTW9kYWxGb3JtIiwiYWRkQnRuIiwiYXZhdGFyRWRpdEJ0biIsIm5ld0NhcmRNb2RhbEZvcm0iLCJhdmF0YXJNb2RhbEZvcm0iLCJjYXJkTGlzdEVsZW1lbnQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsInJlbmRlckNhcmQiLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50Iiwic2VjdGlvbiIsImFwaSIsImRhdGEiLCJfdXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9hdmF0YXIiLCJhdmF0YXIiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNldEF2YXRhciIsInVybCIsImFkZENhcmQiLCJhZGRlZENhcmQiLCJkZWxldGVDYXJkIiwiZGVsZXRlZENhcmQiLCJsaWtlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmV2ZXJzZSIsInVzZXJJbmZvIiwicHJvZmlsZU1vZGFsIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsImFib3V0IiwiY2FyZE1vZGFsIiwiY2FyZCIsInRpdGxlIiwicmVzZXQiLCJhdmF0YXJNb2RhbCIsImNvbmZpcm1Nb2RhbCIsIl9mb3JtIiwiX2J1dHRvbiIsImV2dCIsInNldFN1Ym1pdEhhbmRsZXIiLCJoYW5kbGVyIiwiaW1hZ2VNb2RhbCIsIl9pbWFnZSIsIl9jYXB0aW9uIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJfcmVmMiJdLCJzb3VyY2VSb290IjoiIn0=