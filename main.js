!function(){"use strict";class e{constructor(e,t,s,n,i){let{name:r,link:o,_id:a,isLiked:l}=e;this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=n,this._handleLikeClick=i,this._name=r,this._link=o,this._id=a,this._isLiked=l,this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}handleLikeClick=()=>{this._likeButton.classList.toggle("card__like-button_active")};delete=()=>{this._cardElement.remove()};getView(){return this._cardImageElement.src=this._link,this._cardImageElement.alt=this._name,this._cardTitle.textContent=this._name,this._isLiked&&this._likeButton.classList.add("card__like-button_active"),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){let{items:s,renderer:n}=e;this._container=t,this._items=s,this._renderer=n}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose),this._popupElement.addEventListener("click",this._handleOverlayClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleOverlayClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleOverlayClose=e=>{e.target.classList.contains("modal_opened")&&this.close()};setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()}))}}class n extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this.inputList=this._popupForm.querySelectorAll(".modal__input"),this.submitButton=this._popupForm.querySelector(".modal__save-button")}_getInputValues(){const e={};return this.inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}setLoading(e,t){this.submitButton.textContent=e?"Saving...":t}}var i=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_hasInvalidInput(){return this._inputElements.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this.enableButton()}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputElements=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this.disableButton(),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetValidation(){this._inputElements.forEach((e=>{this._checkInputValidity(e)})),this._toggleButtonState()}};const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button_disabled",inputErrorClass:"modal__input_error",errorClass:"modal__error_visible"},o=document.querySelector("#profile-edit-btn"),a=document.querySelector("#profile-title-input"),l=document.querySelector("#profile-subtext-input"),c=document.querySelector("#profile-modal-form"),d=document.querySelector("#add-button"),h=document.querySelector("#avatar-edit-btn"),u=document.querySelector("#new-card-modal-form"),_=document.querySelector("#avatar-modal-form"),m=document.querySelector(".cards__list"),p=new i(r,c),v=new i(r,u),E=new i(r,_);p.enableValidation(),v.enableValidation(),E.enableValidation();const b=t=>{const s=new e(t,"#card-template",I,w,q).getView();f.addItem(s)},S=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers,this._avatar=e.avatar}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}async getInitialCards(){const e=await fetch(this._baseUrl+"/cards",{headers:this._headers});return this._checkResponse(e)}async getUserInfo(){const e=await fetch(this._baseUrl+"/users/me",{headers:this._headers});return this._checkResponse(e)}async setUserInfo(e){const t=await fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify(e)});return this._checkResponse(t)}async setAvatar(e){const t=await fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})});return this._checkResponse(t)}async addCard(e){let{name:t,link:s}=e;const n=await fetch(this._baseUrl+"/cards/",{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})});return this._checkResponse(n)}async deleteCard(e){const t=await fetch(this._baseUrl+`/cards/${e}`,{method:"DELETE",headers:this._headers});return this._checkResponse(t)}async likeCard(e,t){const s=t?"DELETE":"PUT",n=await fetch(this._baseUrl+`/cards/${e}/likes`,{method:s,headers:this._headers});return this._checkResponse(n)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"03a6e48e-c1e2-40b5-8f26-406bbefbcb53","Content-Type":"application/json"}});let f;S.getInitialCards().then((e=>{f=new t({items:e.reverse(),renderer:b},m),f.renderItems()})).catch((e=>{console.error(e)})),S.getUserInfo().then((e=>{B.setUserInfo(e),B.setAvatar(e.avatar)})).catch((e=>{console.error(e)}));const k=new n("#profile-edit-modal",(function(e){k.setLoading(!0,"Saving..."),S.setUserInfo(e).then((e=>{B.setUserInfo(e),p.disableButton(),k.close()})).catch((e=>{console.error(e)})).finally((()=>{k.setLoading(!1,"Save")})),B.getUserInfo(e.name,e.about)}));k.setEventListeners();const y=new n("#new-card-modal",(function(e){y.setLoading(!0,"Saving..."),S.addCard({name:e.title,link:e.link}).then((e=>{b(e),u.reset(),v.disableButton(),y.close()})).catch((e=>{console.error(e)})).finally((()=>{y.setLoading(!1,"Create")}))}));y.setEventListeners();const L=new n("#avatar-modal",(function(e){L.setLoading(!0,"Saving..."),S.setAvatar(e).then((e=>{B.setAvatar(e.avatar),_.reset(),L.close()})).catch((e=>{console.error(e)})).finally((()=>{L.setLoading(!1,"Save")}))}));L.setEventListeners();const g=new class extends s{constructor(e){super({popupSelector:e}),this._form=this._popupElement.querySelector(".modal__form"),this._button=this._form.querySelector(".modal__save-button"),this.submitButton=this._form.querySelector(".modal__save-button")}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}setSubmitHandler(e){this._handleFormSubmit=e}setDeleting(e,t){this._button.textContent=e?"Deleting...":t}}("#confirm-modal");g.setEventListeners();const C=new class extends s{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__image"),this._caption=this._popupElement.querySelector(".modal__description")}open(e){let{link:t,name:s}=e;this._caption.textContent=s,this._image.src=t,this._image.alt=s,super.open()}}("#preview-modal");C.setEventListeners();const B=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:n}=e;this._nameElement=document.querySelector(t),this._jobElement=document.querySelector(s),this._avatarElement=document.querySelector(n)}getUserInfo(){return{name:this._nameElement.textContent,about:this._jobElement.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._nameElement.textContent=t,this._jobElement.textContent=s}setAvatar(e){this._avatarElement.src=e}}({nameSelector:".profile__title",jobSelector:".profile__subtext",avatarSelector:".profile__picture"});function I(e){C.open(e)}function q(e){S.likeCard(e._id,e._isLiked).then((()=>{e.handleLikeClick()})).catch((e=>{console.error(e)}))}function w(e){g.open(),g.setSubmitHandler((()=>{g.setDeleting(!0,"Deleting..."),S.deleteCard(e._id).then((()=>{e.delete(),g.close()})).catch((e=>{console.error(e)})).finally((()=>{g.setDeleting(!1,"Delete")}))}))}o.addEventListener("click",(()=>{const{name:e,about:t}=B.getUserInfo();a.value=e,l.value=t,p.resetValidation(),k.open()})),d.addEventListener("click",(()=>{y.open(),v.resetValidation()})),h.addEventListener("click",(()=>{L.open(),E.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixHSmtGNEIsQ0FDNUJnQyxhQUFjLGtCQUNkQyxZQUFhLG9CQUNiQyxlQUFnQixzQkFPbEIsU0FBUzNMLEVBQWlCOEgsR0FDeEJ3RCxFQUFXbEksS0FBSzBFLEVBQ2xCLENBRUEsU0FBUzVILEVBQWdCeUssR0FDdkIxQyxFQUNHNkIsU0FBU2EsRUFBS3RLLElBQUtzSyxFQUFLN0osVUFDeEJrSixNQUFLLEtBQ0pXLEVBQUt6SyxpQkFBaUIsSUFFdkJnSyxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLEdBRXhCLENBdUNBLFNBQVNsSyxFQUFrQjBLLEdBQ3pCSSxFQUFhM0gsT0FDYjJILEVBQWFJLGtCQUFpQixLQUM1QkosRUFBYU0sYUFBWSxFQUFNLGVBQy9CcEQsRUFDRzJCLFdBQVdlLEVBQUt0SyxLQUNoQjJKLE1BQUssS0FDSlcsRUFBSy9JLFNBQ0xtSixFQUFheEgsT0FBTyxJQUVyQjJHLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksSUFFbkJLLFNBQVEsS0FDUE8sRUFBYU0sYUFBWSxFQUFPLFNBQVMsR0FDekMsR0FFUixDQXFCQXJFLEVBQWV2RixpQkFBaUIsU0FBUyxLQUN2QyxNQUFNLEtBQUV0QixFQUFJLE1BQUVzSyxHQUFVSCxFQUFTcEIsY0FDakNqQyxFQUFrQnhDLE1BQVF0RSxFQUMxQitHLEVBQW9CekMsTUFBUWdHLEVBRTVCaEQsRUFBa0JaLGtCQUVsQjBELEVBQWFuSCxNQUFNLElBR3JCZ0UsRUFBTzNGLGlCQUFpQixTQUFTLEtBQy9CaUosRUFBVXRILE9BQ1Z1RSxFQUFrQmQsaUJBQWlCLElBR3JDUSxFQUFjNUYsaUJBQWlCLFNBQVMsS0FDdENxSixFQUFZMUgsT0FDWndFLEVBQW9CZixpQkFBaUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgX2lkLCBpc0xpa2VkIH0sXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICkge1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXG4gICAgKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVMaWtlQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9O1xuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfTtcblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIC8vIGlmIHN0YXRlbWVudCB0byBjaGVjayBpcyBsaWtlZCBhbmQgdGhlbiBhZGQgXCJjYXJkIGxpa2UgYnV0dG9uIGFjdGl2ZVwiXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBfaGFuZGxlT3ZlcmxheUNsb3NlID0gKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLmlucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgLy8gdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBzZXRMb2FkaW5nKGlzTG9hZGluZywgdGV4dCkge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgfVxufVxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG4gIC8vIGZpeCBzaG93L2hpZGUgaW5wdXQgZXJyb3IgbWV0aG9kc1xuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50cy5zb21lKFxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxuICAgICk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBlbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IFtcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvciksXG4gICAgXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuXG4gICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7IC8vdG8gbWFrZSBzdXJlIHRoZSBidXR0b24gaXMgZGlzYWJsZWQgb24gcGFnZSBsb2FkXG5cbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmUtYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuZXhwb3J0IHsgaW5pdGlhbENhcmRzLCBjb25maWcgfTtcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuLyoqXG4gKiBFbGVtZW50c1xuICovXG5cbmNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnRuXCIpO1xuY29uc3QgcHJvZmlsZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIik7XG5jb25zdCBwcm9maWxlU3VidGV4dElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXN1YnRleHQtaW5wdXRcIik7XG5jb25zdCBwcm9maWxlTW9kYWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW1vZGFsLWZvcm1cIik7XG5cbmNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGF2YXRhckVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1lZGl0LWJ0blwiKTtcblxuY29uc3QgbmV3Q2FyZE1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWNhcmQtbW9kYWwtZm9ybVwiKTtcbmNvbnN0IGF2YXRhck1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLW1vZGFsLWZvcm1cIik7XG5cbmNvbnN0IGNhcmRMaXN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cbi8qKlxuICogVmFyaWFibGVzXG4gKi9cblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHByb2ZpbGVNb2RhbEZvcm0pO1xuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIG5ld0NhcmRNb2RhbEZvcm0pO1xuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgYXZhdGFyTW9kYWxGb3JtKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCByZW5kZXJDYXJkID0gKGNhcmREYXRhKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBjYXJkRGF0YSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdldFZpZXcoKTtcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbn07XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjAzYTZlNDhlLWMxZTItNDBiNS04ZjI2LTQwNmJiZWZiY2I1M1wiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmxldCBzZWN0aW9uO1xuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigoaXRlbXMpID0+IHtcbiAgICBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAgICB7IGl0ZW1zOiBpdGVtcy5yZXZlcnNlKCksIHJlbmRlcmVyOiByZW5kZXJDYXJkIH0sXG4gICAgICBjYXJkTGlzdEVsZW1lbnRcbiAgICApO1xuICAgIHNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG5hcGlcbiAgLmdldFVzZXJJbmZvKClcbiAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB1c2VySW5mby5zZXRBdmF0YXIoZGF0YS5hdmF0YXIpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbmNvbnN0IHByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgaGFuZGxlUHJvZmlsZU1vZGFsU3VibWl0XG4pO1xucHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNhcmRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNuZXctY2FyZC1tb2RhbFwiLFxuICBoYW5kbGVOZXdDYXJkTW9kYWxTdWJtaXRcbik7XG5jYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhdmF0YXItbW9kYWxcIiwgaGFuZGxlQXZhdGFyTW9kYWxTdWJtaXQpO1xuYXZhdGFyTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY29uZmlybU1vZGFsID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNjb25maXJtLW1vZGFsXCIpO1xuY29uZmlybU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGltYWdlTW9kYWwgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcHJldmlldy1tb2RhbFwiKTtcbmltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19zdWJ0ZXh0XCIsXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19waWN0dXJlXCIsXG59KTtcblxuLyoqXG4gKiBFdmVudCBIYW5kbGVyc1xuICovXG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpIHtcbiAgaW1hZ2VNb2RhbC5vcGVuKGNhcmREYXRhKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcbiAgYXBpXG4gICAgLmxpa2VDYXJkKGNhcmQuX2lkLCBjYXJkLl9pc0xpa2VkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuaGFuZGxlTGlrZUNsaWNrKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlTW9kYWxTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgcHJvZmlsZU1vZGFsLnNldExvYWRpbmcodHJ1ZSwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC5zZXRVc2VySW5mbyhpbnB1dFZhbHVlcylcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICBlZGl0Rm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICBwcm9maWxlTW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9maWxlTW9kYWwuc2V0TG9hZGluZyhmYWxzZSwgXCJTYXZlXCIpO1xuICAgIH0pO1xuXG4gIHVzZXJJbmZvLmdldFVzZXJJbmZvKGlucHV0VmFsdWVzLm5hbWUsIGlucHV0VmFsdWVzLmFib3V0KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3Q2FyZE1vZGFsU3VibWl0KGNhcmQpIHtcbiAgY2FyZE1vZGFsLnNldExvYWRpbmcodHJ1ZSwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC5hZGRDYXJkKHsgbmFtZTogY2FyZC50aXRsZSwgbGluazogY2FyZC5saW5rIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJlbmRlckNhcmQoZGF0YSk7XG4gICAgICBuZXdDYXJkTW9kYWxGb3JtLnJlc2V0KCk7XG4gICAgICBjYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gICAgICBjYXJkTW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBjYXJkTW9kYWwuc2V0TG9hZGluZyhmYWxzZSwgXCJDcmVhdGVcIik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgY29uZmlybU1vZGFsLm9wZW4oKTtcbiAgY29uZmlybU1vZGFsLnNldFN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xuICAgIGNvbmZpcm1Nb2RhbC5zZXREZWxldGluZyh0cnVlLCBcIkRlbGV0aW5nLi4uXCIpO1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuZGVsZXRlKCk7XG4gICAgICAgIGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGNvbmZpcm1Nb2RhbC5zZXREZWxldGluZyhmYWxzZSwgXCJEZWxldGVcIik7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUF2YXRhck1vZGFsU3VibWl0KHVybCkge1xuICBhdmF0YXJNb2RhbC5zZXRMb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuc2V0QXZhdGFyKHVybClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0QXZhdGFyKGRhdGEuYXZhdGFyKTtcbiAgICAgIGF2YXRhck1vZGFsRm9ybS5yZXNldCgpO1xuICAgICAgYXZhdGFyTW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhdmF0YXJNb2RhbC5zZXRMb2FkaW5nKGZhbHNlLCBcIlNhdmVcIik7XG4gICAgfSk7XG59XG5cbi8vIEV2ZW50IExpc3RlbmVyc1xuXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IG5hbWU7XG4gIHByb2ZpbGVTdWJ0ZXh0SW5wdXQudmFsdWUgPSBhYm91dDtcblxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcblxuICBwcm9maWxlTW9kYWwub3BlbigpO1xufSk7XG5cbmFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjYXJkTW9kYWwub3BlbigpO1xuICBjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5hdmF0YXJFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBkYXRhLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGRhdGEuaGVhZGVycztcbiAgICB0aGlzLl9hdmF0YXIgPSBkYXRhLmF2YXRhcjtcbiAgfVxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBhc3luYyBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcbiAgfVxuXG4gIGFzeW5jIGdldFVzZXJJbmZvKCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcyk7XG4gIH1cblxuICBhc3luYyBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcyk7XG4gIH1cbiAgYXN5bmMgc2V0QXZhdGFyKHVybCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZS9hdmF0YXJcIiwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IHVybC5saW5rIH0pLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcyk7XG4gIH1cblxuICBhc3luYyBhZGRDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgY29uc3QgYWRkZWRDYXJkID0gYXdhaXQgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShhZGRlZENhcmQpO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlQ2FyZChfaWQpIHtcbiAgICBjb25zdCBkZWxldGVkQ2FyZCA9IGF3YWl0IGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBgL2NhcmRzLyR7X2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UoZGVsZXRlZENhcmQpO1xuICB9XG5cbiAgYXN5bmMgbGlrZUNhcmQoaWQsIGlzTGlrZWQpIHtcbiAgICBjb25zdCBtZXRob2QgPSBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCI7XG4gICAgY29uc3QgbGlrZUNhcmQgPSBhd2FpdCBmZXRjaCh0aGlzLl9iYXNlVXJsICsgYC9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShsaWtlQ2FyZCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idXR0b25cIik7XG4gICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0U3VibWl0SGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZXI7XG4gIH1cblxuICBzZXREZWxldGluZyhpc0xvYWRpbmcsIHRleHQpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19kZXNjcmlwdGlvblwiKTtcbiAgfVxuXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxuXG4gIHNldEF2YXRhcih1cmwpIHtcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IHVybDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJ0aGlzIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfaXNMaWtlZCIsIl9jYXJkRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZEltYWdlRWxlbWVudCIsIl9jYXJkVGl0bGUiLCJfbGlrZUJ1dHRvbiIsIl9kZWxldGVCdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZGVsZXRlIiwicmVtb3ZlIiwiZ2V0VmlldyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiYWRkIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9jb250YWluZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZSIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsInN1Ym1pdEJ1dHRvbiIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0Iiwic2V0TG9hZGluZyIsImlzTG9hZGluZyIsInRleHQiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVsZW1lbnRzIiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJlbmFibGVWYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdG4iLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVTdWJ0ZXh0SW5wdXQiLCJwcm9maWxlTW9kYWxGb3JtIiwiYWRkQnRuIiwiYXZhdGFyRWRpdEJ0biIsIm5ld0NhcmRNb2RhbEZvcm0iLCJhdmF0YXJNb2RhbEZvcm0iLCJjYXJkTGlzdEVsZW1lbnQiLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJyZW5kZXJDYXJkIiwiY2FyZERhdGEiLCJjYXJkRWxlbWVudCIsInNlY3Rpb24iLCJhcGkiLCJkYXRhIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2F2YXRhciIsImF2YXRhciIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0QXZhdGFyIiwidXJsIiwiYWRkQ2FyZCIsImFkZGVkQ2FyZCIsImRlbGV0ZUNhcmQiLCJkZWxldGVkQ2FyZCIsImxpa2VDYXJkIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJyZXZlcnNlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJ1c2VySW5mbyIsInByb2ZpbGVNb2RhbCIsImZpbmFsbHkiLCJhYm91dCIsImNhcmRNb2RhbCIsImNhcmQiLCJ0aXRsZSIsInJlc2V0IiwiYXZhdGFyTW9kYWwiLCJjb25maXJtTW9kYWwiLCJfZm9ybSIsIl9idXR0b24iLCJldnQiLCJzZXRTdWJtaXRIYW5kbGVyIiwiaGFuZGxlciIsInNldERlbGV0aW5nIiwiaW1hZ2VNb2RhbCIsIl9pbWFnZSIsIl9jYXB0aW9uIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJfcmVmMiJdLCJzb3VyY2VSb290IjoiIn0=